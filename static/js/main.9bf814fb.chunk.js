(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{101:function(e,t,n){e.exports=n(175)},106:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),l=n.n(c),o=(n(106),n(107),n(31)),i=n(177),u=n(179),s=n(180);function m(e){var t=e.children;return r.a.createElement(u.a,{justify:"center"},r.a.createElement(s.a,null,t))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(a.useState)(e),n=Object(o.a)(t,2),r=n[0],c=n[1],l=Object(a.useCallback)((function(e){c(e.target.value)}),[]);return[r,l]}var f=n(181),v=n(178),b=n(61),E=n(98),g=n(86);function p(){var e=localStorage.getItem("lastUUID");if(!e||Number.isNaN(parseInt(e,10))){return localStorage.setItem("lastUUID",1..toString()),1..toString()}var t=(parseInt(e,10)+1).toString();return localStorage.setItem("lastUUID",t),t}function h(){var e=localStorage.getItem("todoItems");return e?{items:JSON.parse(e)}:{items:[]}}var O=Object(g.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),t=e.items,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"add":return{items:[].concat(Object(E.a)(t),[{text:n.text,id:p()}])};case"delete":return{items:t.filter((function(e){return e.id!==n.id}))};case"update":var a=t.find((function(e){return e.id===n.id}));return a&&(a.text=n.text),{items:t};default:return{items:t}}})),j=function(){var e=d(),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useCallback)((function(){O.dispatch({type:"add",text:n})}),[n]);return r.a.createElement(f.b,null,r.a.createElement(v.a,{value:n,placeholder:"\u8f93\u5165",onChange:c}),r.a.createElement(b.a,{type:"link",onClick:l},"\u6dfb\u52a0"))};function S(e){var t=e.text,n=e.id,c=d(t),l=Object(o.a)(c,2),i=l[0],u=l[1];Object(a.useEffect)((function(){O.dispatch({type:"update",text:i,id:n})}),[n,i]);var s=Object(a.useCallback)((function(){O.dispatch({type:"delete",id:n})}),[n]);return r.a.createElement(f.b,null,r.a.createElement(v.a,{value:i,placeholder:"\u8f93\u5165",onChange:u}),r.a.createElement(b.a,{type:"link",onClick:s},"\u5220\u9664"))}function k(e){var t=e.items;return r.a.createElement(f.b,{direction:"vertical"},t.map((function(e){var t=e.id,n=e.text;return r.a.createElement(f.b,{key:t},r.a.createElement("span",null,t,". "),r.a.createElement(S,{text:n,id:t}))})))}function w(){var e=Object(a.useState)(h().items),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){return O.subscribe((function(){c(O.getState().items)}))}),[]);var l,u=Object(a.useCallback)((function(){localStorage.setItem("todoItems",JSON.stringify(O.getState().items))}),[]);return l=u,Object(a.useEffect)((function(){return window.addEventListener("beforeunload",l),function(){window.removeEventListener("beforeunload",l)}}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null,r.a.createElement(i.a,null),r.a.createElement(j,null),r.a.createElement(i.a,null)),r.a.createElement(m,null,r.a.createElement(k,{items:n})))}var I=n(57),y=n.n(I);var x=function(){return r.a.createElement(y.a,null,r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.9bf814fb.chunk.js.map